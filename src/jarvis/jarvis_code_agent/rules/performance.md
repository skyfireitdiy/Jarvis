# 性能优化规则

## 优化原则

1. **先测量，后优化**：
   - 使用性能分析工具找出瓶颈
   - 不要过早优化
   - 优化应该基于实际数据

2. **算法和数据结构**：
   - 选择合适的数据结构
   - 理解算法的时间复杂度
   - 考虑空间换时间的权衡

3. **资源管理**：
   - 及时释放资源（文件、网络连接等）
   - 使用连接池
   - 避免内存泄漏

## 常见优化技巧

1. **缓存**：
   - 缓存计算结果
   - 使用适当的缓存策略
   - 注意缓存失效

2. **批量处理**：
   - 批量处理数据库操作
   - 批量发送网络请求
   - 减少循环中的重复计算

3. **异步处理**：
   - 使用异步 I/O
   - 并行处理独立任务
   - 使用消息队列处理耗时任务

4. **数据库优化**：
   - 使用索引
   - 避免 N+1 查询
   - 使用分页而非加载全部数据

## 性能检查清单

- [ ] 识别并优化了性能瓶颈
- [ ] 使用了合适的数据结构和算法
- [ ] 资源被正确释放
- [ ] 避免了不必要的计算
- [ ] 使用了适当的缓存策略
- [ ] 数据库查询被优化
- [ ] 考虑了并发性能
