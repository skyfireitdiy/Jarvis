# 测试驱动开发 (TDD) 规则

## 核心原则

1. **红-绿-重构循环**：
   - 🔴 红：先写一个失败的测试
   - 🟢 绿：写最简单的代码让测试通过
   - 🔵 重构：优化代码，保持测试通过

2. **测试优先**：
   - 在实现功能之前，先编写测试用例
   - 测试应该描述期望的行为，而不是实现细节
   - 测试应该清晰、可读、可维护

3. **测试覆盖**：
   - 确保所有新功能都有对应的测试
   - 测试应该覆盖正常情况、边界情况和异常情况
   - 保持测试的独立性和可重复性

## 实践建议

- 编写测试时，思考"这个功能应该做什么"，而不是"这个功能如何实现"
- 使用描述性的测试名称，清楚地表达测试的意图
- 保持测试简单，一个测试只验证一个行为
- 定期运行测试，确保所有测试都能通过
- 当发现 bug 时，先写测试重现问题，再修复代码

## 代码示例

```python
# 好的实践：先写测试
def test_calculate_total():
    assert calculate_total([1, 2, 3]) == 6
    assert calculate_total([]) == 0
    assert calculate_total([-1, 1]) == 0

# 然后实现功能
def calculate_total(numbers):
    return sum(numbers)
```
