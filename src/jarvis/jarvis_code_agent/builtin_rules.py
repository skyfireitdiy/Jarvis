# -*- coding: utf-8 -*-
"""CodeAgent å†…ç½®è§„åˆ™æ¨¡å—

æä¾›ä¸€äº›ä¼˜ç§€çš„å¼€å‘å®è·µè§„åˆ™ï¼Œå¦‚ TDDã€ä»£ç å®¡æŸ¥ã€é‡æ„ç­‰ã€‚
"""

# å†…ç½®è§„åˆ™å­—å…¸ï¼šè§„åˆ™åç§° -> è§„åˆ™å†…å®¹
BUILTIN_RULES: dict[str, str] = {
    "tdd": """# æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD) è§„åˆ™

## æ ¸å¿ƒåŸåˆ™
1. **çº¢-ç»¿-é‡æ„å¾ªç¯**ï¼š
   - ğŸ”´ çº¢ï¼šå…ˆå†™ä¸€ä¸ªå¤±è´¥çš„æµ‹è¯•
   - ğŸŸ¢ ç»¿ï¼šå†™æœ€ç®€å•çš„ä»£ç è®©æµ‹è¯•é€šè¿‡
   - ğŸ”µ é‡æ„ï¼šä¼˜åŒ–ä»£ç ï¼Œä¿æŒæµ‹è¯•é€šè¿‡

2. **æµ‹è¯•ä¼˜å…ˆ**ï¼š
   - åœ¨å®ç°åŠŸèƒ½ä¹‹å‰ï¼Œå…ˆç¼–å†™æµ‹è¯•ç”¨ä¾‹
   - æµ‹è¯•åº”è¯¥æè¿°æœŸæœ›çš„è¡Œä¸ºï¼Œè€Œä¸æ˜¯å®ç°ç»†èŠ‚
   - æµ‹è¯•åº”è¯¥æ¸…æ™°ã€å¯è¯»ã€å¯ç»´æŠ¤

3. **æµ‹è¯•è¦†ç›–**ï¼š
   - ç¡®ä¿æ‰€æœ‰æ–°åŠŸèƒ½éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•
   - æµ‹è¯•åº”è¯¥è¦†ç›–æ­£å¸¸æƒ…å†µã€è¾¹ç•Œæƒ…å†µå’Œå¼‚å¸¸æƒ…å†µ
   - ä¿æŒæµ‹è¯•çš„ç‹¬ç«‹æ€§å’Œå¯é‡å¤æ€§

## å®è·µå»ºè®®
- ç¼–å†™æµ‹è¯•æ—¶ï¼Œæ€è€ƒ"è¿™ä¸ªåŠŸèƒ½åº”è¯¥åšä»€ä¹ˆ"ï¼Œè€Œä¸æ˜¯"è¿™ä¸ªåŠŸèƒ½å¦‚ä½•å®ç°"
- ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°ï¼Œæ¸…æ¥šåœ°è¡¨è¾¾æµ‹è¯•çš„æ„å›¾
- ä¿æŒæµ‹è¯•ç®€å•ï¼Œä¸€ä¸ªæµ‹è¯•åªéªŒè¯ä¸€ä¸ªè¡Œä¸º
- å®šæœŸè¿è¡Œæµ‹è¯•ï¼Œç¡®ä¿æ‰€æœ‰æµ‹è¯•éƒ½èƒ½é€šè¿‡
- å½“å‘ç° bug æ—¶ï¼Œå…ˆå†™æµ‹è¯•é‡ç°é—®é¢˜ï¼Œå†ä¿®å¤ä»£ç 

## ä»£ç ç¤ºä¾‹
```python
# å¥½çš„å®è·µï¼šå…ˆå†™æµ‹è¯•
def test_calculate_total():
    assert calculate_total([1, 2, 3]) == 6
    assert calculate_total([]) == 0
    assert calculate_total([-1, 1]) == 0

# ç„¶åå®ç°åŠŸèƒ½
def calculate_total(numbers):
    return sum(numbers)
```""",
    "code_review": """# ä»£ç å®¡æŸ¥è§„åˆ™

## å®¡æŸ¥é‡ç‚¹
1. **åŠŸèƒ½æ­£ç¡®æ€§**ï¼š
   - ä»£ç æ˜¯å¦å®ç°äº†é¢„æœŸçš„åŠŸèƒ½ï¼Ÿ
   - æ˜¯å¦å¤„ç†äº†è¾¹ç•Œæƒ…å†µå’Œå¼‚å¸¸æƒ…å†µï¼Ÿ
   - æ˜¯å¦æœ‰æ½œåœ¨çš„å®‰å…¨æ¼æ´ï¼Ÿ

2. **ä»£ç è´¨é‡**ï¼š
   - ä»£ç æ˜¯å¦æ¸…æ™°ã€æ˜“è¯»ï¼Ÿ
   - å‘½åæ˜¯å¦å‡†ç¡®ã€æœ‰æ„ä¹‰ï¼Ÿ
   - æ˜¯å¦æœ‰é‡å¤ä»£ç éœ€è¦é‡æ„ï¼Ÿ

3. **æ€§èƒ½è€ƒè™‘**ï¼š
   - æ˜¯å¦æœ‰æ€§èƒ½ç“¶é¢ˆï¼Ÿ
   - ç®—æ³•å’Œæ•°æ®ç»“æ„é€‰æ‹©æ˜¯å¦åˆç†ï¼Ÿ
   - æ˜¯å¦æœ‰ä¸å¿…è¦çš„è®¡ç®—æˆ–èµ„æºæ¶ˆè€—ï¼Ÿ

4. **å¯ç»´æŠ¤æ€§**ï¼š
   - ä»£ç ç»“æ„æ˜¯å¦åˆç†ï¼Ÿ
   - æ˜¯å¦éµå¾ªé¡¹ç›®çš„ç¼–ç è§„èŒƒï¼Ÿ
   - æ˜¯å¦æœ‰é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£ï¼Ÿ

## å®¡æŸ¥å»ºè®®
- ä¿æŒå»ºè®¾æ€§çš„åé¦ˆï¼Œå…³æ³¨ä»£ç è€Œéä¸ªäºº
- æå‡ºå…·ä½“ã€å¯æ“ä½œçš„å»ºè®®
- è®¤å¯å¥½çš„å®è·µå’Œè®¾è®¡
- åŠæ—¶å“åº”å®¡æŸ¥è¯·æ±‚
- å¯¹äºå¤æ‚çš„å˜æ›´ï¼Œè€ƒè™‘åˆ†é˜¶æ®µå®¡æŸ¥

## å®¡æŸ¥æ¸…å•
- [ ] ä»£ç ç¬¦åˆé¡¹ç›®çš„ç¼–ç è§„èŒƒ
- [ ] æ²¡æœ‰æ˜æ˜¾çš„ bug æˆ–é€»è¾‘é”™è¯¯
- [ ] æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†
- [ ] æœ‰å¿…è¦çš„æµ‹è¯•è¦†ç›–
- [ ] ä»£ç æ³¨é‡Šæ¸…æ™°ã€å‡†ç¡®
- [ ] æ²¡æœ‰å®‰å…¨æ¼æ´
- [ ] æ€§èƒ½å¯æ¥å—
- [ ] ä»£ç æ˜“äºç†è§£å’Œç»´æŠ¤""",
    "refactoring": """# é‡æ„è§„åˆ™

## é‡æ„åŸåˆ™
1. **å°æ­¥å¿«è·‘**ï¼š
   - æ¯æ¬¡é‡æ„åªåšå°çš„æ”¹åŠ¨
   - é¢‘ç¹è¿è¡Œæµ‹è¯•ï¼Œç¡®ä¿é‡æ„ä¸ç ´ååŠŸèƒ½
   - ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼Œä¾¿äºå›æ»š

2. **ä¿æŒåŠŸèƒ½ä¸å˜**ï¼š
   - é‡æ„ä¸åº”è¯¥æ”¹å˜ä»£ç çš„å¤–éƒ¨è¡Œä¸º
   - é‡æ„å‰åï¼Œæ‰€æœ‰æµ‹è¯•åº”è¯¥éƒ½èƒ½é€šè¿‡
   - å¦‚æœæœ‰åŠŸèƒ½å˜æ›´ï¼Œåº”è¯¥å•ç‹¬æäº¤

3. **è¯†åˆ«ä»£ç å¼‚å‘³**ï¼š
   - é‡å¤ä»£ç ï¼ˆDRY åŸåˆ™ï¼‰
   - è¿‡é•¿çš„æ–¹æ³•æˆ–ç±»
   - è¿‡æ·±çš„åµŒå¥—
   - é­”æ³•æ•°å­—å’Œå­—ç¬¦ä¸²
   - è¿‡åº¦çš„å‚æ•°åˆ—è¡¨

## å¸¸è§é‡æ„æŠ€å·§
1. **æå–æ–¹æ³•**ï¼šå°†é•¿æ–¹æ³•æ‹†åˆ†ä¸ºå¤šä¸ªå°æ–¹æ³•
2. **æå–å˜é‡**ï¼šç”¨æœ‰æ„ä¹‰çš„å˜é‡åæ›¿æ¢å¤æ‚è¡¨è¾¾å¼
3. **é‡å‘½å**ï¼šä½¿ç”¨æ›´æ¸…æ™°çš„åç§°
4. **æ¶ˆé™¤é‡å¤**ï¼šåˆå¹¶é‡å¤çš„ä»£ç é€»è¾‘
5. **ç®€åŒ–æ¡ä»¶**ï¼šä½¿ç”¨æ›´æ¸…æ™°çš„æ¡ä»¶è¡¨è¾¾å¼
6. **ç§»åŠ¨ä»£ç **ï¼šå°†ä»£ç ç§»åˆ°æ›´åˆé€‚çš„ä½ç½®

## é‡æ„æ—¶æœº
- æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œå…ˆé‡æ„ç°æœ‰ä»£ç ï¼Œä½¿å…¶æ›´å®¹æ˜“æ‰©å±•
- ä¿®å¤ bug æ—¶ï¼Œå¦‚æœå‘ç°ä»£ç ç»“æ„æœ‰é—®é¢˜ï¼Œå…ˆé‡æ„å†ä¿®å¤
- ä»£ç å®¡æŸ¥æ—¶ï¼Œå¦‚æœå‘ç°å¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Œå»ºè®®é‡æ„
- å®šæœŸè¿›è¡ŒæŠ€æœ¯å€ºåŠ¡æ¸…ç†

## é‡æ„æ£€æŸ¥æ¸…å•
- [ ] æ‰€æœ‰æµ‹è¯•éƒ½èƒ½é€šè¿‡
- [ ] ä»£ç æ›´æ¸…æ™°ã€æ›´æ˜“è¯»
- [ ] æ²¡æœ‰å¼•å…¥æ–°çš„ bug
- [ ] æ€§èƒ½æ²¡æœ‰æ˜æ˜¾ä¸‹é™
- [ ] ä»£ç æ›´æ˜“äºæ‰©å±•å’Œç»´æŠ¤""",
    "clean_code": """# æ•´æ´ä»£ç è§„åˆ™

## æ ¸å¿ƒåŸåˆ™
1. **å¯è¯»æ€§ä¼˜å…ˆ**ï¼š
   - ä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œæœºå™¨åªæ˜¯é¡ºä¾¿æ‰§è¡Œ
   - ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡åå’Œå‡½æ•°å
   - ä»£ç åº”è¯¥è‡ªè§£é‡Šï¼Œå‡å°‘ä¸å¿…è¦çš„æ³¨é‡Š

2. **å•ä¸€èŒè´£**ï¼š
   - æ¯ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹
   - æ¯ä¸ªç±»åªæœ‰ä¸€ä¸ªæ”¹å˜çš„ç†ç”±
   - ä¿æŒå‡½æ•°å’Œç±»çš„ç®€æ´

3. **DRY (Don't Repeat Yourself)**ï¼š
   - é¿å…é‡å¤ä»£ç 
   - æå–å…¬å…±é€»è¾‘åˆ°å‡½æ•°æˆ–ç±»ä¸­
   - ä½¿ç”¨é…ç½®è€Œéç¡¬ç¼–ç 

## å‘½åè§„èŒƒ
- ä½¿ç”¨æè¿°æ€§çš„åç§°ï¼Œé¿å…ç¼©å†™
- å‡½æ•°ååº”è¯¥æ˜¯åŠ¨è¯æˆ–åŠ¨è¯çŸ­è¯­
- ç±»ååº”è¯¥æ˜¯åè¯æˆ–åè¯çŸ­è¯­
- å¸ƒå°”å˜é‡åº”è¯¥ä½¿ç”¨ is/has/can ç­‰å‰ç¼€
- å¸¸é‡åº”è¯¥ä½¿ç”¨å…¨å¤§å†™ï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿åˆ†éš”

## å‡½æ•°è®¾è®¡
- å‡½æ•°åº”è¯¥çŸ­å°ï¼Œæœ€å¥½ä¸è¶…è¿‡ 20 è¡Œ
- å‡½æ•°å‚æ•°åº”è¯¥å°½å¯èƒ½å°‘ï¼Œæœ€å¥½ä¸è¶…è¿‡ 3 ä¸ª
- å‡½æ•°åº”è¯¥åªåšä¸€ä»¶äº‹ï¼Œåšå¥½ä¸€ä»¶äº‹
- é¿å…å‰¯ä½œç”¨ï¼Œå‡½æ•°åº”è¯¥å¯é¢„æµ‹

## ä»£ç ç»„ç»‡
- ç›¸å…³ä»£ç åº”è¯¥æ”¾åœ¨ä¸€èµ·
- ä½¿ç”¨ç©ºè¡Œåˆ†éš”é€»è¾‘å—
- ä¿æŒä¸€è‡´çš„ä»£ç é£æ ¼
- åˆ é™¤æœªä½¿ç”¨çš„ä»£ç å’Œæ³¨é‡Š

## ç¤ºä¾‹
```python
# ä¸å¥½çš„å®è·µ
def calc(x, y, z):
    return x * y + z * 2

# å¥½çš„å®è·µ
def calculate_total_price(quantity: int, unit_price: float, tax_rate: float) -> float:
    subtotal = quantity * unit_price
    tax = subtotal * tax_rate
    return subtotal + tax
```""",
    "error_handling": """# é”™è¯¯å¤„ç†è§„åˆ™

## é”™è¯¯å¤„ç†åŸåˆ™
1. **æ˜ç¡®æ€§**ï¼š
   - é”™è¯¯ä¿¡æ¯åº”è¯¥æ¸…æ™°ã€å…·ä½“
   - é”™è¯¯åº”è¯¥åŒ…å«è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä¿¡æ¯
   - ä½¿ç”¨æœ‰æ„ä¹‰çš„é”™è¯¯ç±»å‹

2. **å¯æ¢å¤æ€§**ï¼š
   - åŒºåˆ†å¯æ¢å¤çš„é”™è¯¯å’Œä¸å¯æ¢å¤çš„é”™è¯¯
   - å¯¹äºå¯æ¢å¤çš„é”™è¯¯ï¼Œæä¾›æ¢å¤è·¯å¾„
   - å¯¹äºä¸å¯æ¢å¤çš„é”™è¯¯ï¼Œä¼˜é›…åœ°ç»ˆæ­¢

3. **ä¸è¦é™é»˜å¤±è´¥**ï¼š
   - ä¸è¦å¿½ç•¥é”™è¯¯
   - ä¸è¦ä½¿ç”¨ç©ºçš„ except å—
   - è®°å½•æ‰€æœ‰é”™è¯¯ï¼Œä¾¿äºè°ƒè¯•

## æœ€ä½³å®è·µ
- ä½¿ç”¨å…·ä½“çš„å¼‚å¸¸ç±»å‹ï¼Œè€Œä¸æ˜¯é€šç”¨çš„ Exception
- åœ¨é€‚å½“çš„å±‚çº§å¤„ç†é”™è¯¯ï¼Œä¸è¦è¿‡æ—©æ•è·
- æä¾›æœ‰æ„ä¹‰çš„é”™è¯¯æ¶ˆæ¯
- ä½¿ç”¨æ—¥å¿—è®°å½•é”™è¯¯ï¼Œè€Œä¸æ˜¯åªæ‰“å°
- è€ƒè™‘ä½¿ç”¨ Result ç±»å‹æˆ– Optional æ¥è¡¨ç¤ºå¯èƒ½çš„é”™è¯¯

## é”™è¯¯å¤„ç†æ¨¡å¼
```python
# å¥½çš„å®è·µï¼šå…·ä½“å¼‚å¸¸ + æ¸…æ™°æ¶ˆæ¯
try:
    result = process_data(data)
except ValueError as e:
    logger.error(f"Invalid data format: {e}")
    return None
except FileNotFoundError as e:
    logger.error(f"Required file not found: {e}")
    raise
except Exception as e:
    logger.error(f"Unexpected error: {e}")
    raise RuntimeError(f"Failed to process data: {e}") from e
```

## æ£€æŸ¥æ¸…å•
- [ ] æ‰€æœ‰å¯èƒ½çš„é”™è¯¯æƒ…å†µéƒ½è¢«å¤„ç†
- [ ] é”™è¯¯æ¶ˆæ¯æ¸…æ™°ã€æœ‰ç”¨
- [ ] é”™è¯¯è¢«é€‚å½“åœ°è®°å½•
- [ ] é”™è¯¯å¤„ç†ä¸ä¼šéšè—çœŸæ­£çš„é—®é¢˜
- [ ] æœ‰é€‚å½“çš„é”™è¯¯æ¢å¤æœºåˆ¶""",
    "security": """# å®‰å…¨ç¼–ç è§„åˆ™

## æ ¸å¿ƒåŸåˆ™
1. **è¾“å…¥éªŒè¯**ï¼š
   - æ°¸è¿œä¸è¦ä¿¡ä»»ç”¨æˆ·è¾“å…¥
   - éªŒè¯æ‰€æœ‰è¾“å…¥æ•°æ®çš„æ ¼å¼å’ŒèŒƒå›´
   - ä½¿ç”¨ç™½åå•è€Œéé»‘åå•

2. **æœ€å°æƒé™**ï¼š
   - ä½¿ç”¨æœ€å°å¿…è¦çš„æƒé™
   - é¿å…ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œåº”ç”¨
   - é™åˆ¶æ–‡ä»¶ç³»ç»Ÿè®¿é—®èŒƒå›´

3. **æ•æ„Ÿæ•°æ®ä¿æŠ¤**ï¼š
   - ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†ç ã€å¯†é’¥
   - ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¯†é’¥ç®¡ç†æœåŠ¡
   - åŠ å¯†å­˜å‚¨æ•æ„Ÿæ•°æ®

## å¸¸è§å®‰å…¨é—®é¢˜
1. **SQL æ³¨å…¥**ï¼š
   - ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼Œä¸è¦æ‹¼æ¥ SQL
   - ä½¿ç”¨ ORM æ¡†æ¶çš„æŸ¥è¯¢æ–¹æ³•

2. **XSS (è·¨ç«™è„šæœ¬æ”»å‡»)**ï¼š
   - å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œè½¬ä¹‰
   - ä½¿ç”¨å†…å®¹å®‰å…¨ç­–ç•¥ (CSP)

3. **CSRF (è·¨ç«™è¯·æ±‚ä¼ªé€ )**ï¼š
   - ä½¿ç”¨ CSRF token
   - éªŒè¯è¯·æ±‚æ¥æº

4. **æ•æ„Ÿä¿¡æ¯æ³„éœ²**ï¼š
   - ä¸è¦åœ¨æ—¥å¿—ä¸­è®°å½•æ•æ„Ÿä¿¡æ¯
   - ä¸è¦åœ¨é”™è¯¯æ¶ˆæ¯ä¸­æš´éœ²ç³»ç»Ÿç»†èŠ‚

## å®‰å…¨ç¼–ç æ£€æŸ¥æ¸…å•
- [ ] æ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½ç»è¿‡éªŒè¯
- [ ] æ²¡æœ‰ç¡¬ç¼–ç çš„å¯†ç æˆ–å¯†é’¥
- [ ] ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼ˆé˜²æ­¢ SQL æ³¨å…¥ï¼‰
- [ ] æ•æ„Ÿæ•°æ®è¢«åŠ å¯†å­˜å‚¨
- [ ] é”™è¯¯æ¶ˆæ¯ä¸æ³„éœ²ç³»ç»Ÿä¿¡æ¯
- [ ] ä½¿ç”¨ HTTPS ä¼ è¾“æ•æ„Ÿæ•°æ®
- [ ] å®šæœŸæ›´æ–°ä¾èµ–åº“
- [ ] ä½¿ç”¨å®‰å…¨çš„éšæœºæ•°ç”Ÿæˆå™¨
- [ ] å®æ–½é€‚å½“çš„è®¿é—®æ§åˆ¶""",
    "performance": """# æ€§èƒ½ä¼˜åŒ–è§„åˆ™

## ä¼˜åŒ–åŸåˆ™
1. **å…ˆæµ‹é‡ï¼Œåä¼˜åŒ–**ï¼š
   - ä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·æ‰¾å‡ºç“¶é¢ˆ
   - ä¸è¦è¿‡æ—©ä¼˜åŒ–
   - ä¼˜åŒ–åº”è¯¥åŸºäºå®é™…æ•°æ®

2. **ç®—æ³•å’Œæ•°æ®ç»“æ„**ï¼š
   - é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„
   - ç†è§£ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦
   - è€ƒè™‘ç©ºé—´æ¢æ—¶é—´çš„æƒè¡¡

3. **èµ„æºç®¡ç†**ï¼š
   - åŠæ—¶é‡Šæ”¾èµ„æºï¼ˆæ–‡ä»¶ã€ç½‘ç»œè¿æ¥ç­‰ï¼‰
   - ä½¿ç”¨è¿æ¥æ± 
   - é¿å…å†…å­˜æ³„æ¼

## å¸¸è§ä¼˜åŒ–æŠ€å·§
1. **ç¼“å­˜**ï¼š
   - ç¼“å­˜è®¡ç®—ç»“æœ
   - ä½¿ç”¨é€‚å½“çš„ç¼“å­˜ç­–ç•¥
   - æ³¨æ„ç¼“å­˜å¤±æ•ˆ

2. **æ‰¹é‡å¤„ç†**ï¼š
   - æ‰¹é‡å¤„ç†æ•°æ®åº“æ“ä½œ
   - æ‰¹é‡å‘é€ç½‘ç»œè¯·æ±‚
   - å‡å°‘å¾ªç¯ä¸­çš„é‡å¤è®¡ç®—

3. **å¼‚æ­¥å¤„ç†**ï¼š
   - ä½¿ç”¨å¼‚æ­¥ I/O
   - å¹¶è¡Œå¤„ç†ç‹¬ç«‹ä»»åŠ¡
   - ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¤„ç†è€—æ—¶ä»»åŠ¡

4. **æ•°æ®åº“ä¼˜åŒ–**ï¼š
   - ä½¿ç”¨ç´¢å¼•
   - é¿å… N+1 æŸ¥è¯¢
   - ä½¿ç”¨åˆ†é¡µè€ŒéåŠ è½½å…¨éƒ¨æ•°æ®

## æ€§èƒ½æ£€æŸ¥æ¸…å•
- [ ] è¯†åˆ«å¹¶ä¼˜åŒ–äº†æ€§èƒ½ç“¶é¢ˆ
- [ ] ä½¿ç”¨äº†åˆé€‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•
- [ ] èµ„æºè¢«æ­£ç¡®é‡Šæ”¾
- [ ] é¿å…äº†ä¸å¿…è¦çš„è®¡ç®—
- [ ] ä½¿ç”¨äº†é€‚å½“çš„ç¼“å­˜ç­–ç•¥
- [ ] æ•°æ®åº“æŸ¥è¯¢è¢«ä¼˜åŒ–
- [ ] è€ƒè™‘äº†å¹¶å‘æ€§èƒ½""",
    "documentation": """# æ–‡æ¡£ç¼–å†™è§„åˆ™

## æ–‡æ¡£åŸåˆ™
1. **æ¸…æ™°æ€§**ï¼š
   - æ–‡æ¡£åº”è¯¥æ¸…æ™°ã€å‡†ç¡®
   - ä½¿ç”¨ç®€å•çš„è¯­è¨€
   - é¿å…æŠ€æœ¯æœ¯è¯­ï¼Œå¿…è¦æ—¶æä¾›è§£é‡Š

2. **å®Œæ•´æ€§**ï¼š
   - æ–‡æ¡£åº”è¯¥è¦†ç›–æ‰€æœ‰é‡è¦åŠŸèƒ½
   - åŒ…å«ä½¿ç”¨ç¤ºä¾‹
   - è¯´æ˜é™åˆ¶å’Œæ³¨æ„äº‹é¡¹

3. **åŠæ—¶æ€§**ï¼š
   - ä»£ç å˜æ›´æ—¶åŒæ­¥æ›´æ–°æ–‡æ¡£
   - æ–‡æ¡£åº”è¯¥åæ˜ å½“å‰å®ç°
   - åˆ é™¤è¿‡æ—¶çš„æ–‡æ¡£

## æ–‡æ¡£ç±»å‹
1. **ä»£ç æ³¨é‡Š**ï¼š
   - è§£é‡Š"ä¸ºä»€ä¹ˆ"ï¼Œè€Œä¸æ˜¯"åšä»€ä¹ˆ"
   - å¤æ‚é€»è¾‘éœ€è¦æ³¨é‡Š
   - å…¬å…± API å¿…é¡»æœ‰æ–‡æ¡£å­—ç¬¦ä¸²

2. **README**ï¼š
   - é¡¹ç›®æ¦‚è¿°å’Œå¿«é€Ÿå¼€å§‹
   - å®‰è£…å’Œé…ç½®è¯´æ˜
   - ä½¿ç”¨ç¤ºä¾‹

3. **API æ–‡æ¡£**ï¼š
   - å‡½æ•°ç­¾åå’Œå‚æ•°è¯´æ˜
   - è¿”å›å€¼è¯´æ˜
   - ä½¿ç”¨ç¤ºä¾‹

## æ–‡æ¡£æ£€æŸ¥æ¸…å•
- [ ] æ‰€æœ‰å…¬å…± API éƒ½æœ‰æ–‡æ¡£
- [ ] å¤æ‚é€»è¾‘æœ‰æ³¨é‡Šè¯´æ˜
- [ ] README åŒ…å«å¿«é€Ÿå¼€å§‹æŒ‡å—
- [ ] æœ‰ä½¿ç”¨ç¤ºä¾‹
- [ ] æ–‡æ¡£ä¸ä»£ç ä¿æŒåŒæ­¥
- [ ] æ–‡æ¡£æ¸…æ™°ã€æ˜“è¯»""",
    "git_workflow": """# Git å·¥ä½œæµè§„åˆ™

## æäº¤è§„èŒƒ
1. **æäº¤ä¿¡æ¯**ï¼š
   - ä½¿ç”¨æ¸…æ™°ã€æè¿°æ€§çš„æäº¤ä¿¡æ¯
   - ç¬¬ä¸€è¡Œåº”è¯¥ç®€æ´åœ°æ€»ç»“å˜æ›´
   - è¯¦ç»†è¯´æ˜æ”¾åœ¨åç»­è¡Œ

2. **æäº¤ç²’åº¦**ï¼š
   - æ¯ä¸ªæäº¤åº”è¯¥æ˜¯ä¸€ä¸ªé€»è¾‘å•å…ƒ
   - ç›¸å…³çš„å˜æ›´åº”è¯¥ä¸€èµ·æäº¤
   - ä¸ç›¸å…³çš„å˜æ›´åº”è¯¥åˆ†å¼€æäº¤

3. **æäº¤é¢‘ç‡**ï¼š
   - é¢‘ç¹æäº¤ï¼Œå°æ­¥å¿«è·‘
   - å®Œæˆä¸€ä¸ªåŠŸèƒ½æˆ–ä¿®å¤åç«‹å³æäº¤
   - ä¸è¦ç§¯ç´¯å¤§é‡æœªæäº¤çš„å˜æ›´

## åˆ†æ”¯ç­–ç•¥
1. **ä¸»åˆ†æ”¯**ï¼š
   - main/master åˆ†æ”¯åº”è¯¥ä¿æŒç¨³å®š
   - åªæ¥å—ç»è¿‡å®¡æŸ¥å’Œæµ‹è¯•çš„ä»£ç 

2. **åŠŸèƒ½åˆ†æ”¯**ï¼š
   - æ¯ä¸ªæ–°åŠŸèƒ½åˆ›å»ºç‹¬ç«‹åˆ†æ”¯
   - åˆ†æ”¯ååº”è¯¥æè¿°åŠŸèƒ½
   - åŠŸèƒ½å®Œæˆååˆå¹¶åˆ°ä¸»åˆ†æ”¯

3. **ä»£ç å®¡æŸ¥**ï¼š
   - æ‰€æœ‰ä»£ç å˜æ›´éƒ½åº”è¯¥ç»è¿‡å®¡æŸ¥
   - å®¡æŸ¥é€šè¿‡åæ‰èƒ½åˆå¹¶
   - åŠæ—¶å“åº”å®¡æŸ¥æ„è§

## Git æœ€ä½³å®è·µ
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯
- ä¿æŒæäº¤å†å²æ¸…æ™°
- å®šæœŸåŒæ­¥ä¸»åˆ†æ”¯
- è§£å†³å†²çªæ—¶ä¿æŒä»£ç è´¨é‡
- ä½¿ç”¨ .gitignore å¿½ç•¥ä¸å¿…è¦çš„æ–‡ä»¶
- ä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯

## æ£€æŸ¥æ¸…å•
- [ ] æäº¤ä¿¡æ¯æ¸…æ™°ã€æè¿°æ€§
- [ ] æ¯ä¸ªæäº¤æ˜¯ä¸€ä¸ªé€»è¾‘å•å…ƒ
- [ ] ä»£ç ç»è¿‡æµ‹è¯•
- [ ] ä»£ç ç»è¿‡å®¡æŸ¥
- [ ] æ²¡æœ‰æäº¤æ•æ„Ÿä¿¡æ¯
- [ ] .gitignore é…ç½®æ­£ç¡®""",
}


def get_builtin_rule(rule_name: str) -> str | None:
    """è·å–å†…ç½®è§„åˆ™

    å‚æ•°:
        rule_name: è§„åˆ™åç§°ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰

    è¿”å›:
        str: è§„åˆ™å†…å®¹ï¼Œå¦‚æœæœªæ‰¾åˆ°åˆ™è¿”å› None
    """
    return BUILTIN_RULES.get(rule_name.lower())


def list_builtin_rules() -> list[str]:
    """åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å†…ç½®è§„åˆ™åç§°

    è¿”å›:
        list[str]: è§„åˆ™åç§°åˆ—è¡¨
    """
    return list(BUILTIN_RULES.keys())
