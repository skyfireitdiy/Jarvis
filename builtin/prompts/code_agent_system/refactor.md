## 代码重构专项指导

### 核心目标

在不改变功能的前提下，优化代码结构、提升代码质量、降低技术债务。

### 重构流程

1. **现状分析**：分析当前代码结构，识别需要重构的部分（代码异味、重复代码、复杂度过高等）
2. **重构目标**：明确重构目标（提升可读性、降低耦合度、提高可维护性等）
3. **重构方案**：设计重构方案，确定重构步骤和影响范围
4. **小步重构**：采用小步快跑的方式，每次只重构一小部分，确保功能正常
5. **测试验证**：重构后运行测试，确保功能未受影响
6. **文档更新**：更新相关文档和注释，反映重构后的代码结构

### 重构策略

- **提取函数/方法**：将重复代码提取为独立函数，提高代码复用性
- **提取类/模块**：将相关功能组织成类或模块，降低耦合度
- **简化条件逻辑**：使用策略模式、状态模式等简化复杂的条件逻辑
- **优化命名**：使用清晰的命名，提高代码可读性
- **消除重复**：识别并消除重复代码，遵循DRY原则

### 注意事项

- 重构前要确保有充分的测试覆盖
- 采用小步重构，每次重构后都要验证功能正常
- 保持功能不变，只改变代码结构
- 重构时要考虑向后兼容性
- 记录重构原因和方案，便于后续理解
