{
  "id": "20260113_192656_580144",
  "type": "project_long_term",
  "tags": [
    "memory_system",
    "save_memory",
    "pin_content",
    "architecture"
  ],
  "content": "记忆系统架构：save_memory工具(src/jarvis/jarvis_tools/save_memory.py)在保存记忆时会将内容追加到agent.pin_content(第100-105行和125-130行)。pin_content在Agent类(_handle_history_with_summary方法，第1469-1471行)中被添加到提示词中作为'用户的原始需求和要求'。short_term_memories全局列表已存在(globals.py第26行)，最大容量100条，由add_short_term_memory和get_short_term_memories函数管理。",
  "created_at": "2026-01-13T19:26:56.580171",
  "updated_at": "2026-01-13T19:26:56.580175"
}