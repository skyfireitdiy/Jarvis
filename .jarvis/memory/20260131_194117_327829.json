{
  "id": "20260131_194117_327829",
  "type": "project_long_term",
  "tags": ["知识图谱", "knowledge_graph", "设计文档", "阶段2", "知识自主积累"],
  "content": "## 知识图谱数据结构设计文档\n\n### 1. 设计目标\n构建轻量级知识图谱系统，统一表示方法论、规则、记忆、代码等知识，建立关联关系。\n\n### 2. 知识节点数据结构\n```python\nclass NodeType(Enum):\n    METHODOLOGY, RULE, MEMORY, CODE, FILE, CONCEPT\n\n@dataclass\nclass KnowledgeNode:\n    node_id: str\n    node_type: NodeType\n    name: str\n    description: str\n    source_path: Optional[str]\n    tags: List[str]\n    metadata: Dict[str, Any]\n    created_at: datetime\n    updated_at: datetime\n```\n\n### 3. 知识关系数据结构\n```python\nclass RelationType(Enum):\n    REFERENCES, DEPENDS_ON, SIMILAR_TO, DERIVED_FROM,\n    IMPLEMENTS, RELATED_TO, PART_OF, SUPERSEDES\n\n@dataclass\nclass KnowledgeEdge:\n    edge_id: str\n    source_id: str\n    target_id: str\n    relation_type: RelationType\n    strength: float  # 0-1\n    description: Optional[str]\n    metadata: Dict[str, Any]\n    created_at: datetime\n```\n\n### 4. 存储方案\n```\n.jarvis/knowledge_graph/\n├── nodes/{type}/{node_id}.json\n├── edges/edges.json\n├── index/{node,tag,type}_index.json\n└── metadata.json\n```\n\n### 5. 核心接口\n- add_node/get_node/update_node/delete_node/query_nodes\n- add_edge/get_edges/delete_edge\n- get_neighbors/find_path/get_related_knowledge\n- sync_from_sources/auto_link\n\n### 6. 模块结构\n```\nsrc/jarvis/jarvis_knowledge_graph/\n├── __init__.py\n├── knowledge_graph.py  # 主模块\n├── node.py            # 节点定义\n├── edge.py            # 边定义\n├── storage.py         # 存储管理\n├── index.py           # 索引管理\n├── sync.py            # 同步管理\n└── auto_linker.py     # 自动关联\n```\n\n### 7. 实现计划\nPhase 1: 数据结构\nPhase 2: 存储和索引\nPhase 3: 核心查询接口\nPhase 4: 同步和自动关联\nPhase 5: 集成测试\n\n### 8. 验收标准\n- 正确存储和查询知识节点\n- 正确建立和查询知识关系\n- 从现有系统同步知识\n- 查询响应时间<100ms\n- 测试覆盖率≥80%",
  "created_at": "2026-01-31T19:41:17.327843",
  "updated_at": "2026-01-31T19:41:17.327846"
}
