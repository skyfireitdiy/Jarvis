{
  "id": "20260114_191830_312178",
  "type": "project_long_term",
  "tags": [
    "token_calibration",
    "tiktoken",
    "api_usage",
    "claude",
    "openai",
    "token_stat",
    "cost_estimation"
  ],
  "content": "项目Token校准方案：当前项目使用tiktoken库进行本地token统计（位于src/jarvis/jarvis_utils/embedding.py），使用cl100k_base编码并应用10/7调整系数。Claude和OpenAI API在非流式响应中返回实际usage信息（input_tokens/output_tokens/prompt_tokens/completion_tokens），可用于校准本地统计准确性。建议按模型和平台分别管理校准系数，使用滑动窗口平均法动态更新。规则文档：builtin/rules/tool_config/token_calibration.md",
  "created_at": "2026-01-14T19:18:30.312208",
  "updated_at": "2026-01-14T19:18:30.312211"
}
