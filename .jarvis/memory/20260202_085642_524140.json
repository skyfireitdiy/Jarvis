{
  "id": "20260202_085642_524140",
  "type": "project_long_term",
  "tags": ["配置管理", "自动切换", "jca", "Git检测"],
  "content": "## Jarvis Git仓库自动切换功能\n\n**功能描述**：当在Git仓库中启动jvs时，系统会自动检测并切换到代码开发模式（jca）\n\n**实现位置**：\n- 检测逻辑：`src/jarvis/jarvis_agent/jarvis.py::try_switch_to_jca_if_git_repo()`\n- 配置schema：`src/jarvis/jarvis_data/config_schema.json`\n\n**关键特性**：\n- 非交互模式下不进行自动切换（保留 `is_non_interactive()` 判断）\n- 使用 `git rev-parse --show-toplevel` 检测Git仓库\n- 通过 `os.execvp()` 执行 `jarvis-code-agent` 命令\n\n**配置文件位置**：`~/.jarvis/config.yaml`",
  "created_at": "2026-02-02T08:56:42.552465",
  "updated_at": "2026-02-02T08:56:42.552479"
}
