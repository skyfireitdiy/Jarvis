{
  "id": "20260131_222834_173714",
  "type": "project_long_term",
  "tags": ["阶段3", "智能顾问", "架构分析", "任务1.1"],
  "content": "## 阶段3任务1.1：现有能力分析报告\n\n### 1. 知识图谱模块 (jarvis_knowledge_graph)\n\n**核心类**：\n- `KnowledgeGraph`: 知识图谱管理类\n- `KnowledgeNode`: 知识节点（6种类型：METHODOLOGY, RULE, MEMORY, CODE, FILE, CONCEPT）\n- `KnowledgeEdge`: 知识关系（8种类型：REFERENCES, DEPENDS_ON, SIMILAR_TO等）\n\n**核心方法**：\n- `add_node/get_node/update_node/delete_node`: 节点CRUD\n- `add_edge/get_edges/delete_edge`: 边CRUD\n- `query_nodes`: 按类型、标签、名称查询节点\n- `get_neighbors`: 获取邻居节点\n- `find_path`: BFS查找两节点间路径\n- `get_related_knowledge`: 获取指定深度内的相关知识\n- `get_stats`: 获取图谱统计信息\n\n**存储**：`.jarvis/knowledge_graph/nodes/{type}/{id}.json` + `edges/edges.json`\n\n### 2. 智能检索模块 (smart_retrieval.py)\n\n**核心类**：\n- `SmartRetriever`: 智能检索器\n- `SemanticQuery`: 语义查询（关键词、扩展标签、意图）\n- `RecommendationContext`: 推荐上下文（任务描述、当前步骤、工具调用、错误）\n- `RelevanceScore`: 相关性得分（标签30%+内容40%+时间15%+频率15%）\n\n**核心方法**：\n- `semantic_search`: 语义检索（查询分析→标签扩展→候选检索→相关性排序）\n- `recommend_knowledge`: 基于任务上下文的知识推荐\n- `find_related_knowledge`: 查找相关知识（标签关联+内容相似度）\n\n### 3. 架构分析模块 (jarvis_arch_analyzer)\n\n**核心组件**：\n- `ArchitectureAnalyzer`: 架构分析器主类\n- `complexity.py`: 代码复杂度分析（圈复杂度、认知复杂度）\n- `dependency.py`: 依赖关系分析（循环依赖、耦合度）\n- `duplication.py`: 代码重复度分析\n- `report.py`: 健康度报告生成\n\n### 4. 代码审查模块 (jarvis_code_analysis)\n\n**核心功能**：\n- `code_review.py`: 自动代码审查工具\n- 支持多语言检测（C/C++, Go, Python, Rust, Java, JavaScript, TypeScript等）\n- 基于checklist的审查\n\n### 5. 其他相关模块\n\n- `jarvis_methodology_generator`: 方法论自动生成\n- `jarvis_rule_generator`: 规则自动生成\n\n### 智能顾问模块设计方向\n\n基于以上能力，智能顾问模块应该：\n1. **智能问答**：整合知识图谱+智能检索，回答项目相关问题\n2. **代码审查建议**：整合架构分析+代码审查，生成改进建议\n3. **架构决策辅助**：基于知识图谱和历史决策，提供架构建议\n4. **最佳实践推荐**：整合规则+方法论系统，推荐最佳实践",
  "created_at": "2026-01-31T22:28:34.173747",
  "updated_at": "2026-01-31T22:28:34.173751"
}
