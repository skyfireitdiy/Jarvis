{
  "problem_type": "auto_print emoji前缀扩展",
  "content": "# auto_print 函数 emoji 前缀扩展方法论\n\n## 问题重述\n需要为 auto_print 函数添加新的 emoji 前缀支持，使其能够自动识别并应用对应的样式。\n\n## 可复用解决流程\n\n### 第一步：需求分析\n1. 收集需要支持的 emoji 前缀列表\n2. 为每个 emoji 定义语义化的 OutputType 名称\n3. 确定配色方案（参考现有配色风格）\n\n### 第二步：扩展 OutputType 枚举\n**文件位置**：`src/jarvis/jarvis_utils/output.py`（第 93-135 行）\n- 在枚举类文档字符串中添加新类型的说明\n- 添加新的枚举成员（格式：`TYPE_NAME = \"TYPE_NAME\"`）\n- 使用 `edit_file` 工具精确修改\n\n### 第三步：扩展 _ICONS 字典\n**文件位置**：`src/jarvis/jarvis_utils/output.py`（第 456-474 行）\n- 为每个新 OutputType 添加对应的 emoji 图标\n- 格式：`OutputType.TYPE_NAME: \"emoji\"`\n- 确保图标与语义匹配\n\n### 第四步：扩展样式配置（3 个字典）\n**文件位置**：`src/jarvis/jarvis_utils/output.py`\n\n1. **style_config 字典**（第 186-306 行）\n   - 添加 RichStyle 配置\n   - 包括 color、bgcolor、frame、bold、meta 等属性\n\n2. **text_colors 字典**（第 322-342 行）\n   - 添加文字颜色定义\n   - 使用 rich 支持的颜色名称\n\n3. **header_styles 字典**（第 360-427 行）\n   - 添加头部样式配置\n   - 与 style_config 保持一致的配色\n\n### 第五步：扩展 emoji_mapping 字典\n**文件位置**：`src/jarvis/jarvis_utils/output.py`（第 752-765 行）\n- 添加 emoji 到 OutputType 的映射关系\n- 格式：`\"emoji\": OutputType.TYPE_NAME`\n- 注意：一个 OutputType 可以支持多个 emoji\n\n### 第六步：全面验证\n1. **语法验证**：使用 `py_compile.compile()` 检查语法\n2. **导入验证**：确保模块可以正常导入\n3. **枚举验证**：确认所有新类型存在\n4. **图标验证**：确认 _ICONS 字典包含所有映射\n5. **样式验证**：确认样式配置完整\n6. **映射验证**：确认 emoji_mapping 正确\n7. **功能验证**：测试 auto_print 能识别新 emoji\n\n## 注意事项\n\n**一致性要求**：\n- 所有 4 个位置（枚举、图标、样式、映射）必须同步更新\n- emoji 图标、样式颜色、映射关系要语义匹配\n- 配色方案应与现有风格协调\n\n**代码规范**：\n- 遵循 PEP 8 代码规范\n- 保持与现有代码风格一致\n- 使用 `edit_file` 工具精确修改，避免 sed\n\n**验证标准**：\n- Python 语法检查必须通过\n- 模块导入必须成功\n- 所有配置必须保持一致\n- 功能测试必须通过\n\n## 可选步骤\n\n**配色建议**：\n- START/启动类型：bright_blue\n- TARGET/目标类型：bright_magenta\n- STOP/停止类型：red\n- RETRY/重试类型：yellow\n- ROLLBACK/回滚类型：dark_red\n- DIRECTORY/目录类型：bright_cyan\n- STATISTICS/统计类型：bright_blue\n\n**背景色建议**：\n- 使用 #1c2b3c、#2b1c3c 等深色系\n- 确保前景色与背景色对比度适中\n- 保持与现有背景色风格一致",
  "scope": "project"
}
