{
  "problem_type": "规则文件路径引用更新",
  "content": "## 问题重述\n在整理builtin/rules目录结构后，需要检查并更新所有规则文件中的相对路径引用（如{{ rule_file_dir }}），确保它们指向正确的文件位置。\n\n## 可复用解决流程\n1. 使用grep或rg搜索所有包含rule_file_dir的规则文件\n   - 命令：find builtin/rules -name '*.md' -type f -exec grep -l 'rule_file_dir' {} \\\\;\n  \n2. 分析每个包含路径引用的文件内容\n   - 使用read_code工具读取文件内容\n   - 记录所有路径引用的位置和内容\n\n3. 根据当前目录结构建立路径引用更新对照表\n   - 确定每个规则文件的新位置\n   - 计算正确的相对路径\n\n4. 使用edit_file工具精确修改路径引用\n   - 保持Jinja2变量格式（{{ rule_file_dir }}）\n   - 确保相对路径正确指向目标文件\n\n5. 验证更新结果\n   - 重新搜索所有路径引用，确认已更新\n   - 检查引用的目标文件是否存在\n\n## 注意事项\n- 所有路径引用必须保持Jinja2变量格式\n- 相对路径必须根据文件的实际位置正确计算\n- 确保引用的目标文件确实存在\n- 避免修改非路径引用的rule_file_dir文本\n\n## 可选步骤\n- 可以创建一个路径引用更新前后的对照表作为文档\n- 可以编写自动化脚本定期检查路径引用的有效性",
  "scope": "project"
}