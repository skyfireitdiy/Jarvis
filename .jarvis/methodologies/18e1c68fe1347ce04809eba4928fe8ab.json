{
  "problem_type": "创建项目规则文件",
  "content": "# 创建项目规则文件方法论\n\n## 问题重述\n在 builtin/rules 目录下创建新的规则文件，用于指导 JARVIS Agent 遵循特定的开发规范或最佳实践。\n\n## 可复用解决流程\n\n### 1. 调研阶段（必须）\n- 检索现有记忆（tags: rules, rule_format, builtin_rules）了解规则文件格式\n- 查看 builtin/rules 目录下现有规则文件（如 clean_code.md, refactoring.md, sdd.md）作为参考\n- 确认是否已存在相同或相似主题的规则文件\n\n### 2. 设计阶段（必须）\n根据规则主题设计内容结构，必须包含以下标准部分：\n- **主标题**：# 规则名称（使用中文）\n- **核心原则**：## 你必须遵守的核心原则（列出 2-5 个核心原则）\n- **具体规范**：## 你必须遵循的规范/要求（详细说明规则）\n- **代码示例**：## 代码示例（❌ 不好的实践 + ✅ 好的实践）\n- **检查清单**：## 检查清单（使用 [ ] 格式的可验证条目）\n\n### 3. 编写阶段（必须）\n- 使用 edit_file 工具创建规则文件\n- 文件命名：使用小写字母和下划线，如 clean_architecture.md\n- 存放位置：builtin/rules/\n- 代码示例使用 Python 语言（或主题相关语言）\n- 使用 **必须** 和 **禁止** 标记强制性要求\n\n### 4. 验证阶段（必须）\n- 使用 markdownlint 检查格式（MD040: fenced code language, MD047: trailing newline）\n- 确保所有 fenced code block 都指定了语言（如 ```python, ```text）\n- 确保文件以单个换行符结尾\n- 修复所有检测到的问题\n\n## 注意事项\n\n### 格式规范\n- 所有 fenced code block 必须指定语言类型\n- 文件末尾必须有且仅有一个换行符\n- 使用层级标题（# → ## → ###）保持结构清晰\n- 使用粗体强调重点（**必须**、**禁止**）\n\n### 内容要求\n- 规则必须具体可执行，避免空泛的描述\n- 代码示例要简洁明了，突出对比\n- 检查清单要具体可验证，便于 Agent 执行\n\n### 验证标准\n- markdownlint 检查无错误\n- 文件结构完整包含所有必需部分\n- 代码示例可直接运行或理解\n- 检查清单条目数量合理（5-15条）\n\n## 可选步骤\n\n### 高级特性\n- 如果规则需要动态内容，可使用 Jinja2 模板语法\n- 可用变量：{{ current_dir }}, {{ script_dir }}, {{ jarvis_src_dir }} 等\n- 参考 builtin/rules/ios-dark-theme.md 了解模板用法\n\n### 集成验证\n- 创建对应的测试文件验证规则加载\n- 确保规则能被 RulesManager 正确识别和加载",
  "scope": "project"
}