{
  "problem_type": "添加规则文件",
  "content": "# 添加新规则文件\n\n## 问题重述\n在Jarvis项目中添加新的规则文件，用于指导Agent在特定场景下的行为规范和最佳实践。\n\n## 可复用解决流程\n\n### 步骤1：分析规则需求\n- 明确规则的适用场景和目标\n- 确定规则所属的分类（architecture_design、code_quality、security等）\n- 识别规则中需要包含的关键内容（约束、要求、禁止事项等）\n\n### 步骤2：创建规则文件\n1. 在对应的分类目录下创建markdown文件（如：`builtin/rules/tool_config/token_calibration.md`）\n2. 规则文件应包含以下标准结构：\n   - 标题（# 规则名称）\n   - 目的（## 目的）\n   - 背景（## 背景，可选）\n   - 详细内容（分章节说明）\n   - 注意事项（## 注意事项）\n   - 最佳实践（## 最佳实践）\n   - 相关文件（## 相关文件）\n3. 确保使用正确的markdown格式，通过markdownlint检查\n\n### 步骤3：更新规则列表\n1. 编辑 `builtin/rules/builtin_rules.md` 文件\n2. 在对应的分类下添加新规则的链接\n3. 链接格式：`- [规则名称]({{ rule_file_dir }}/分类/规则文件.md)`\n4. 注意使用模板变量 `{{ rule_file_dir }}` 以支持动态路径渲染\n\n### 步骤4：验证规则文件\n1. 运行markdownlint检查格式：`markdownlint builtin/rules/分类/规则文件.md`\n2. 修复任何格式错误（如MD029有序列表前缀问题）\n3. 确保规则内容完整、清晰、可执行\n\n### 步骤5：提交变更\n- 规则文件修改会自动提交，无需手动操作\n- 提交信息格式：`CheckPoint #序列号`\n\n## 注意事项\n- 规则文件名使用小写字母和下划线，如 `token_calibration.md`\n- 规则内容应具体、可操作，避免模糊的描述\n- 代码示例应完整可运行，包含必要的导入和异常处理\n- 如果规则涉及项目特定内容，应在背景中说明上下文\n- 链接使用相对路径和模板变量，确保在不同环境下都能正确访问\n\n## 可选步骤\n- 如果规则涉及新的分类，需要在规则列表中添加新的分类章节\n- 可以使用 `load_rule` 工具加载规则并验证模板变量渲染是否正确\n- 对于复杂的规则，可以创建配套的测试用例或示例",
  "scope": "project"
}
