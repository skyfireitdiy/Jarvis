# ğŸ¤– Jarvis AI åŠ©æ‰‹
<p align="center">
  <img src="docs/images/jarvis-logo.png" alt="Jarvis Logo" width="200"/>
</p>
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
*æ‚¨çš„æ™ºèƒ½å¼€å‘å’Œç³»ç»Ÿäº¤äº’åŠ©æ‰‹*
[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢
[æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½) â€¢
[é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜) â€¢
[å·¥å…·è¯´æ˜](#-å·¥å…·è¯´æ˜) â€¢
[æ‰©å±•å¼€å‘](#-æ‰©å±•å¼€å‘) â€¢
[è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
---
## ğŸš€ å¿«é€Ÿå¼€å§‹
### å®‰è£…
```bash
pip install jarvis-ai-assistant
```
### æœ€å°åŒ–é…ç½®
```bash
JARVIS_PLATFORM=openai
JARVIS_MODEL=deepseek-chat
OPENAI_API_KEY=your_openai_api_key
OPENAI_API_BASE=https://api.deepseek.com/v1
```
### åŸºæœ¬ä½¿ç”¨
```bash
# ä½¿ç”¨ä¸»ä»£ç†
jarvis
# ç›´æ¥ä½¿ç”¨ä»£ç ä»£ç†
jarvis-code-agent
# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
jarvis --help
```
---
## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
### ä»£ç æ™ºèƒ½
- åŸºäºéœ€æ±‚çš„æ™ºèƒ½æ–‡ä»¶é€‰æ‹©å’Œåˆ†æ
- è¯­ä¹‰åŒ–ä»£ç åº“æœç´¢å’ŒæŸ¥è¯¢
- å…·æœ‰ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å¤§æ–‡ä»¶é«˜æ•ˆå¤„ç†
- ç²¾ç¡®çš„åŸºäºè¡¥ä¸çš„ä»£ç ä¿®æ”¹
- è‡ªåŠ¨åŒ–çš„ git æäº¤ç®¡ç†
### å¤šæ¨¡å‹æ¶æ„
- æ”¯æŒå¤šä¸ª AI å¹³å°ï¼ˆKimi/OpenAI/AI8/OYI/Ollamaï¼‰
- é’ˆå¯¹ä¸åŒä»»åŠ¡çš„å¹³å°ç‰¹å®šä¼˜åŒ–
- ä¸“é—¨ç”¨äºä»£ç ç”Ÿæˆã€æ€è€ƒå’Œé€šç”¨ä»»åŠ¡çš„æ¨¡å‹
- æµå¼å“åº”æ”¯æŒä»¥æä¾›æ›´å¥½çš„äº¤äº’
- è‡ªåŠ¨çš„æ¨¡å‹å›é€€å’Œé‡è¯•æœºåˆ¶
### RAG èƒ½åŠ›
- æ–‡æ¡£ç´¢å¼•å’Œè¯­ä¹‰æœç´¢
- å¤§å‹æ–‡æ¡£çš„æ™ºèƒ½ä¸Šä¸‹æ–‡ç®¡ç†
- è‡ªåŠ¨æ–‡ä»¶å˜æ›´æ£€æµ‹
- é«˜æ•ˆçš„ç¼“å­˜æœºåˆ¶
- å¤šæ ¼å¼æ–‡æ¡£æ”¯æŒ
### å¼€å‘å·¥å…·
- äº¤äº’å¼å‘½ä»¤è¡Œç”Ÿæˆ
- å¤šç»´åº¦çš„ä»£ç å®¡æŸ¥
- åŸºäºä»£ç åº“çš„é—®é¢˜è§£å†³
- å…·æœ‰å®‰å…¨æ£€æŸ¥çš„æ–‡ä»¶æ“ä½œ
- è¿›åº¦è·Ÿè¸ªå’Œé”™è¯¯å¤„ç†
### ç”¨æˆ·ä½“éªŒ
- æ”¯æŒå½©è‰²è¾“å‡ºçš„ç²¾ç¾æ§åˆ¶å°
- äº¤äº’å¼å¤šè¡Œè¾“å…¥
- é•¿æ—¶é—´æ“ä½œçš„è¿›åº¦æŒ‡ç¤º
- æ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯å’Œå¤„ç†
- ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å“åº”æ ¼å¼åŒ–
---
## âš™ï¸ é…ç½®è¯´æ˜
### ç¯å¢ƒå˜é‡é…ç½®
| åˆ†ç±» | å˜é‡åç§° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|----------|--------|------|
| æ ¸å¿ƒé…ç½® | `JARVIS_MAX_TOKEN_COUNT` | 131072 | ä¸Šä¸‹æ–‡çª—å£çš„æœ€å¤§tokenæ•°é‡ |
| æ ¸å¿ƒé…ç½® | `JARVIS_THREAD_COUNT` | 1 | å¹¶è¡Œå¤„ç†çš„çº¿ç¨‹æ•°é‡ |
| æ ¸å¿ƒé…ç½® | `JARVIS_AUTO_COMPLETE` | false | æ˜¯å¦å¯ç”¨è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ |
| æ ¸å¿ƒé…ç½® | `JARVIS_EXECUTE_TOOL_CONFIRM` | false | æ‰§è¡Œå·¥å…·å‰æ˜¯å¦éœ€è¦ç¡®è®¤ |
| æ ¸å¿ƒé…ç½® | `JARVIS_CONFIRM_BEFORE_APPLY_PATCH` | true | åº”ç”¨è¡¥ä¸å‰æ˜¯å¦éœ€è¦ç¡®è®¤ |
| æ¨¡å‹é…ç½® | `JARVIS_DONT_USE_LOCAL_MODEL` | false | æ˜¯å¦ç¦ç”¨æœ¬åœ°æ¨¡å‹ |
| æ¨¡å‹é…ç½® | `JARVIS_PLATFORM` | kimi | é»˜è®¤AIå¹³å° |
| æ¨¡å‹é…ç½® | `JARVIS_MODEL` | kimi | é»˜è®¤æ¨¡å‹ |
| æ¨¡å‹é…ç½® | `JARVIS_CODEGEN_PLATFORM` | JARVIS_PLATFORM | ä»£ç ç”Ÿæˆä»»åŠ¡ä½¿ç”¨çš„å¹³å° |
| æ¨¡å‹é…ç½® | `JARVIS_CODEGEN_MODEL` | JARVIS_MODEL | ä»£ç ç”Ÿæˆä»»åŠ¡ä½¿ç”¨çš„æ¨¡å‹ |
| æ¨¡å‹é…ç½® | `JARVIS_THINKING_PLATFORM` | JARVIS_PLATFORM | æ€è€ƒä»»åŠ¡ä½¿ç”¨çš„å¹³å° |
| æ¨¡å‹é…ç½® | `JARVIS_THINKING_MODEL` | JARVIS_MODEL | æ€è€ƒä»»åŠ¡ä½¿ç”¨çš„æ¨¡å‹ |
| æ¨¡å‹é…ç½® | `JARVIS_CHEAP_PLATFORM` | JARVIS_PLATFORM | ä½æˆæœ¬ä»»åŠ¡ä½¿ç”¨çš„å¹³å° |
| æ¨¡å‹é…ç½® | `JARVIS_CHEAP_MODEL` | JARVIS_MODEL | ä½æˆæœ¬ä»»åŠ¡ä½¿ç”¨çš„æ¨¡å‹ |
| æ–¹æ³•è®ºé…ç½® | `JARVIS_USE_METHODOLOGY` | true | æ˜¯å¦å¯ç”¨æ–¹æ³•è®ºç³»ç»Ÿ |
| æ–¹æ³•è®ºé…ç½® | `JARVIS_RECORD_METHODOLOGY` | true | æ˜¯å¦è®°å½•æ–¹æ³•è®º |
| æ–¹æ³•è®ºé…ç½® | `JARVIS_NEED_SUMMARY` | true | æ˜¯å¦è‡ªåŠ¨ç”Ÿæˆæ‘˜è¦ |
| æ–‡æœ¬å¤„ç† | `JARVIS_MIN_PARAGRAPH_LENGTH` | 50 | æ–‡æœ¬å¤„ç†çš„æœ€å°æ®µè½é•¿åº¦ |
| æ–‡æœ¬å¤„ç† | `JARVIS_MAX_PARAGRAPH_LENGTH` | 12800 | æ–‡æœ¬å¤„ç†çš„æœ€å¤§æ®µè½é•¿åº¦ |
### é…ç½®æ–‡ä»¶
åœ¨`~/.jarvis/env`æ–‡ä»¶ä¸­é…ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
# ç¤ºä¾‹é…ç½®
JARVIS_MAX_TOKEN_COUNT=262144
JARVIS_AUTO_COMPLETE=true
JARVIS_CODEGEN_MODEL=gpt-4
JARVIS_THINKING_PLATFORM=openai
JARVIS_THREAD_COUNT=4
```
---
## ğŸ› ï¸ å·¥å…·è¯´æ˜
### å†…ç½®å·¥å…·
| å·¥å…·åç§° | æè¿° |
|----------|------|
| read_code | æ”¯æŒè¡Œå·å’ŒèŒƒå›´çš„ä»£ç æ–‡ä»¶è¯»å– |
| execute_shell | æ‰§è¡Œç³»ç»Ÿå‘½ä»¤å¹¶æ•è·è¾“å‡º |
| execute_shell_script | æ‰§è¡Œshellè„šæœ¬æ–‡ä»¶ |
| ask_codebase | æ™ºèƒ½ä»£ç åº“æŸ¥è¯¢å’Œåˆ†æ |
| ask_user | äº¤äº’å¼ç”¨æˆ·è¾“å…¥æ”¶é›† |
| file_operation | åŸºç¡€æ–‡ä»¶æ“ä½œï¼ˆè¯»å–/å­˜åœ¨æ€§æ£€æŸ¥ï¼‰ |
| git_commiter | è‡ªåŠ¨åŒ–gitæäº¤å¤„ç† |
| code_review | å¤šç»´åº¦çš„è‡ªåŠ¨ä»£ç å®¡æŸ¥ |
| search_web | å¼€å‘ç›¸å…³çš„ç½‘ç»œæœç´¢ |
| read_webpage | è¯»å–ç½‘é¡µå†…å®¹ |
| chdir | å®‰å…¨åœ°æ›´æ”¹å·¥ä½œç›®å½• |
| create_code_agent | åˆ›å»ºæ–°çš„ä»£ç ä»£ç† |
| create_sub_agent | åˆ›å»ºå­ä»£ç† |
| lsp_find_definition | æŸ¥æ‰¾ç¬¦å·å®šä¹‰ |
| lsp_find_references | æŸ¥æ‰¾ç¬¦å·å¼•ç”¨ |
| lsp_get_diagnostics | è·å–ä»£ç è¯Šæ–­ä¿¡æ¯ |
| lsp_get_document_symbols | è·å–æ–‡æ¡£ç¬¦å· |
| lsp_prepare_rename | å‡†å¤‡ç¬¦å·é‡å‘½å |
| lsp_validate_edit | éªŒè¯ä»£ç ç¼–è¾‘ |
| rag | æ–‡æ¡£æ£€ç´¢å’Œé—®ç­” |
| select_code_files | æ™ºèƒ½é€‰æ‹©ä»£ç æ–‡ä»¶ |
### å·¥å…·ä½ç½®
- å†…ç½®å·¥å…·ï¼š`src/jarvis/tools/`
- ç”¨æˆ·å·¥å…·ï¼š`~/.jarvis/tools/`
---
## ğŸ› ï¸ æ‰©å±•å¼€å‘
### æ·»åŠ æ–°å·¥å…·
åœ¨ `~/.jarvis/tools/` æˆ– `src/jarvis/tools/` ä¸­åˆ›å»ºæ–°çš„ Python æ–‡ä»¶ï¼š
```python
from typing import Dict, Any
from jarvis.utils import OutputType, PrettyOutput
class CustomTool:
    name = "å·¥å…·åç§°"              # è°ƒç”¨æ—¶ä½¿ç”¨çš„å·¥å…·åç§°
    description = "å·¥å…·æè¿°"       # å·¥å…·ç”¨é€”
    parameters = {                # å‚æ•°çš„ JSON Schema
        "type": "object",
        "properties": {
            "param1": {
                "type": "string",
                "description": "å‚æ•°æè¿°"
            }
        },
        "required": ["param1"]
    }
    def execute(self, args: Dict[str, Any]) -> Dict[str, Any]:
        """æ‰§è¡Œå·¥å…·åŠŸèƒ½
        
        å‚æ•°ï¼š
            args: ä¼ é€’ç»™å·¥å…·çš„å‚æ•°
            
        è¿”å›ï¼š
            åŒ…å«æ‰§è¡Œç»“æœçš„å­—å…¸ï¼š
            {
                "success": bool,
                "stdout": str,  # æˆåŠŸæ—¶çš„è¾“å‡º
                "stderr": str,  # å¯é€‰çš„é”™è¯¯è¯¦æƒ…
            }
        """
        try:
            # åœ¨æ­¤å®ç°å·¥å…·é€»è¾‘
            result = "å·¥å…·æ‰§è¡Œç»“æœ"
            return {
                "success": True,
                "stdout": result,
                "stderr": ""
            }
        except Exception as e:
            return {
                "success": False,
                "stdout": "",
                "stderr": str(e)
            }
```
### å¼€å‘æŒ‡å—
1. **å·¥å…·å¼€å‘**
   - ä½¿ç”¨æè¿°æ€§åç§°å’Œæ–‡æ¡£
   - å®šä¹‰æ¸…æ™°çš„å‚æ•°æ¨¡å¼
   - ä¼˜é›…å¤„ç†é”™è¯¯
   - è¿”å›æ ‡å‡†åŒ–ç»“æœ
   - ä¿æŒå·¥å…·åŠŸèƒ½é›†ä¸­å’Œç®€å•
2. **æœ€ä½³å®è·µ**
   - ä½¿ç”¨ PrettyOutput è¿›è¡Œæ§åˆ¶å°è¾“å‡º
   - ç¼–å†™ä»£ç æ–‡æ¡£
   - æ·»åŠ ç±»å‹æç¤º
   - å……åˆ†æµ‹è¯•
   - å¤„ç†è¾¹ç•Œæƒ…å†µ
---
## ğŸ¤ è´¡çŒ®æŒ‡å—
1. Fork ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'æ·»åŠ æŸä¸ªå¾ˆæ£’çš„ç‰¹æ€§'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request
---
## ğŸ“„ è®¸å¯è¯
æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚
---
<div align="center">
ç”± Jarvis å›¢é˜Ÿç”¨ â¤ï¸ åˆ¶ä½œ
</div>
